<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>HollyBlood by Secrets Obscurs</title>
  <style>
    body {
      background-color: #0e0e0e;
      color: #ffffff;
      font-family: 'Georgia', serif;
      text-align: center;
      padding: 40px 20px;
    }

    #logo {
      max-width: 320px;
      margin-bottom: 25px;
    }

    .intro {
      font-size: 1.2em;
      color: #dddddd;
      font-style: italic;
      max-width: 600px;
      margin: 0 auto 30px auto;
      text-align: justify;
    }

    .ticket-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
    }

    .ticket-btn {
      width: 320px;
      cursor: pointer;
      transition: transform 0.2s ease-in-out;
    }

    .ticket-btn:hover {
      transform: scale(1.02);
    }

    #codeSection {
      margin-top: 30px;
      display: none;
      animation: fadeIn 0.4s ease-in-out;
    }

    #codeSection p {
      font-size: 1.1em;
      color: #ccc;
      font-style: italic;
      margin-bottom: 12px;
    }

    input {
      padding: 12px;
      font-size: 1.1em;
      border-radius: 10px;
      border: 1px solid #444;
      background-color: #1e1e1e;
      color: white;
      width: 240px;
      text-align: center;
    }

    .btn-valider {
      margin-top: 20px;
      background-color: #8B0000;
      color: white;
      border: none;
      padding: 14px 28px;
      font-size: 1.1em;
      border-radius: 10px;
      font-family: 'Georgia', serif;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    .btn-valider:hover {
      background-color: #aa0000;
    }

    .btn-valider:disabled {
      background-color: #444;
      cursor: not-allowed;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>

  <img src="img/logo.png" alt="Logo du jeu" id="logo">

  <p class="intro">
    Le destin d‚Äôun meurtre repose entre vos mains.  
    Le premier joueur doit cliquer sur <strong>Cr√©er une partie</strong> pour d√©clencher le sc√©nario et g√©n√©rer un code unique pour cette partie.  
    Les autres protagonistes cliquent sur <strong>Rejoindre une partie</strong> et entrent ce code pour p√©n√©trer dans l‚Äôhistoire‚Ä¶  
    <br><br>
    <em>Le rideau ne se l√®vera que lorsque tous les r√¥les auront trouv√© leur interpr√®te.</em>
  </p>

  <div class="ticket-container">
    <img src="img/ticket-creer-partie.png" alt="Cr√©er une partie" class="ticket-btn" onclick="window.location.href='creer-partie.html'">
    <img src="img/ticket-rejoindre-partie.png" alt="Rejoindre une partie" class="ticket-btn" onclick="afficherSectionCode()">
  </div>

  <div id="codeSection">
    <p>üîë Entrez le code √† 6 chiffres donn√© par le joueur qui a cr√©√© la partie :</p>
    <input type="text" id="inputCode" placeholder="Ex: 973112" maxlength="6" oninput="verifierCode()" />
    <br>
    <button class="btn-valider" id="boutonRejoindre" onclick="goToScenario()" disabled>Valider</button>
  </div>

  <script>
    const redirectionMap = {
      "973112": "aa1.html", "207217": "aa1.html", "992972": "aa1.html", "146018": "aa1.html",
      "271906": "aa2.html", "897499": "aa2.html", "821951": "aa2.html", "317065": "aa2.html",
      "729490": "aa3.html", "545777": "aa3.html", "196387": "aa3.html", "805894": "aa3.html",
      "012074": "aa4.html", "923621": "aa4.html", "304099": "aa4.html", "537769": "aa4.html",
      "226512": "aa5.html", "229143": "aa5.html", "163676": "aa5.html", "116338": "aa5.html",
      "873233": "aa6.html", "837619": "aa6.html", "270346": "aa6.html", "528814": "aa6.html",
      "474279": "aa7.html", "423343": "aa7.html", "716320": "aa7.html", "431457": "aa7.html",
      "148607": "aa8.html", "365064": "aa8.html", "960473": "aa8.html", "203675": "aa8.html",
      "289705": "aa9.html", "148714": "aa9.html", "519341": "aa9.html", "583571": "aa9.html",
      "912632": "aa10.html", "377054": "aa10.html", "634609": "aa10.html", "617621": "aa10.html",
      "446423": "aa11.html", "869002": "aa11.html", "027894": "aa11.html", "884271": "aa11.html",
      "871574": "aa12.html", "953606": "aa12.html", "275533": "aa12.html", "244871": "aa12.html",
      "010381": "aa13.html", "332969": "aa13.html", "280018": "aa13.html", "208960": "aa13.html",
      "929575": "aa14.html", "657062": "aa14.html", "657252": "aa14.html", "069246": "aa14.html",
      "928101": "aa15.html", "533428": "aa15.html", "018753": "aa15.html", "947543": "aa15.html",
      "962060": "aa16.html", "696192": "aa16.html", "791616": "aa16.html", "037936": "aa16.html",
      "946602": "aa17.html", "091011": "aa17.html", "076825": "aa17.html", "194288": "aa17.html",
      "924976": "aa18.html", "755417": "aa18.html", "859056": "aa18.html", "345629": "aa18.html",
      "847102": "aa19.html", "133796": "aa19.html", "544879": "aa19.html", "806465": "aa19.html",
      "509122": "aa20.html", "221941": "aa20.html", "872539": "aa20.html", "660914": "aa20.html",
      "391514": "aa21.html", "657090": "aa21.html", "467853": "aa21.html", "278465": "aa21.html",
      "851597": "aa22.html", "624568": "aa22.html", "284688": "aa22.html", "032123": "aa22.html",
      "787050": "aa23.html", "775655": "aa23.html", "969411": "aa23.html", "018453": "aa23.html",
      "856059": "aa24.html", "384803": "aa24.html", "166988": "aa24.html", "722011": "aa24.html",
      "907044": "aa25.html", "812727": "aa25.html", "627446": "aa25.html", "120543": "aa25.html",
      "065042": "aa26.html", "936829": "aa26.html", "506390": "aa26.html", "192944": "aa26.html",
      "315168": "aa27.html", "358326": "aa27.html", "236399": "aa27.html", "492881": "aa27.html",
      "007182": "aa28.html", "393868": "aa28.html", "978142": "aa28.html", "190817": "aa28.html",
      "613441": "aa29.html", "214614": "aa29.html", "683961": "aa29.html", "319842": "aa29.html",
      "123016": "aa30.html", "156221": "aa30.html", "457538": "aa30.html", "600479": "aa30.html",
      "074530": "aa31.html", "322786": "aa31.html", "041980": "aa31.html", "481802": "aa31.html",
      "111147": "aa32.html", "921809": "aa32.html", "384140": "aa32.html", "132120": "aa32.html",
      "806410": "aa33.html", "183616": "aa33.html", "314301": "aa33.html", "808160": "aa33.html",
      "432106": "aa34.html", "563873": "aa34.html", "247241": "aa34.html", "719478": "aa34.html",
      "517016": "aa35.html", "822232": "aa35.html", "522760": "aa35.html", "007519": "aa35.html",
      "790206": "aa36.html", "641632": "aa36.html", "950834": "aa36.html", "710522": "aa36.html",
      "866511": "aa37.html", "070453": "aa37.html", "407333": "aa37.html", "449127": "aa37.html",
      "391834": "aa38.html", "072287": "aa38.html", "098996": "aa38.html", "334439": "aa38.html",
      "987433": "aa39.html", "309008": "aa39.html", "387497": "aa39.html", "770948": "aa39.html",
      "141056": "aa40.html", "395123": "aa40.html", "097758": "aa40.html", "306389": "aa40.html"
    };

    function afficherSectionCode() {
      setTimeout(function() {
        document.getElementById("codeSection").scrollIntoView({ behavior: 'smooth' });
      }, 200);
      document.getElementById("codeSection").style.display = "block";
    }

    function verifierCode() {
      const code = document.getElementById("inputCode").value;
      const bouton = document.getElementById("boutonRejoindre");
      bouton.disabled = !/^[0-9]{6}$/.test(code);
    }

    function goToScenario() {
      const code = document.getElementById("inputCode").value.trim();
      if (redirectionMap[code]) {
        const baseUrl = "https://thibault21-jeu.github.io/hollyblood-app/";
        window.location.href = baseUrl + redirectionMap[code];
      } else {
        alert("Ce code ne correspond √† aucun sc√©nario.");
      }
    }
  </script>

</body>
</html>